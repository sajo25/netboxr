<tool id="netboxr_tool" name="NetBox" version="1.6.0">
<!-- A simple description of the tool that will appear in the tool
panel in Galaxy. -->
<description> netboxr enables automated discovery of biological process
modules by network analysis.</description>
<!-- Handles exit codes in Galaxy. -->
<requirements>
<requirement type="package">r-optparse</requirement>
<requirement type="package" version="1.6.0">bioconductor-netboxr</requirement>
</requirements>
<stdio>
<exit_code range="1:" />
</stdio>
<command><![CDATA[
Rscript '$__tool_directory__/netboxr_r.R' --geneList $gene_list
--cutoff $cutoff --community $community
 --globalModel $globalModel --globalIterations $globalIterations --globalNumber $globalNumber
 --localModel $localModel --localIterations $localIterations --networkPlot $networkPlot --plotWidth $plotWidth
 --outputSIF $outputSIF --neighborList $neighborList --modmem $modmem --nt $nt
]]>
<!-- add resolutionParam $resolutionParam after communityMethod
after you make pull request-->
</command>
<inputs>
<param name="gene_list" type="data" format=".txt" label="Gene list" help="A
tab-delimited text file that contains a list of genes of interest"/>
<param argument="--cutoff" type="text" label="P-Value Cut-Off"
help="The corrected p-value (or q-value) cut-off to apply for the graph
output. Default: 0.05"/>
<param argument="--community" type="select" label="Community detection method" help="Community detection methods include using edge betweenness score (ebc), leading eigenvector method (lec), Louvain method (louvain), or Leiden method (leiden). Default: ebc">
<option value="ebc">EBC</option>
<option value="lev">LEV</option>
<option value="louvain">LOUV</option>
<option value="leiden">LEID</option>
</param>
<!-- <param argument="- -resolutionParam" type="text" label="Resolution parameter"
help="Higher resolution results in more communities. Default: 1"/> -->
<param argument="--globalModel" type="boolean" truevalue="True"
falsevalue="False" checked="True" label="Global model" help="Perform global model analysis. Default: Yes"/>
<param argument="--globalIterations" type="text" truevalue="True"
falsevalue="False" checked="True" label="Global model iterations" help="Global model iterations. Recommended: 1000"/>
<param argument="--globalNumber" type="text" truevalue="True"
falsevalue="False" checked="True" label="Global model number of genes" help="Global model number of genes."/>
<param argument="--localModel" type="boolean" truevalue="True"
falsevalue="False" checked="True" label="Local model" help="Perform local model analysis. Default: Yes"/>
<param argument="--localIterations" type="text" truevalue="True"
falsevalue="False" checked="True" label="Local model iterations" help="Local model iterations. Recommended: 1000"/>
<param argument="--networkPlot" type="boolean" truevalue="True"
falsevalue="False" checked="True" label="Network plot" help="Output the
annotated graph of netboxr output. Default: Yes"/>
<param argument="--plotWidth" type="text" label="Network plot width" help="Output the
annotated graph of netboxr output."/>
<param argument="--outputSIF" type="boolean" truevalue="True"
falsevalue="False" checked="True" label="Network in SIF format" help="Output the
annotated graph of netboxr output. Default: Yes"/>
<param argument="--neighborList" type="boolean" truevalue="True"
falsevalue="False" checked="True" label="Neighbor list" help="Output a table
containing the information of all neighbor nodes. Default: Yes" />
<param argument="--modmem" type="boolean" truevalue="True" falsevalue="False" checked="True" label="Module membership" help="or nodes. Default: Yes"/>
<param argument="--nt" type="boolean" truevalue="True" falsevalue="False" checked="True" label="Node type" help="Output a table containing the information of node types. Default: Yes"/>
</inputs>
<outputs>
<data name="output_pdf" format="pdf"
from_work_dir="network_plot.pdf" label="${tool.name} on ${on_string}:
Network plot">
<filter>output_pdf is True</filter>
</data>
<data name="localModel_pdf" format="pdf"
from_work_dir="localModel_histogram.pdf" label="${tool.name} on ${on_string}:
Local model histogram">
<filter>localModel is True</filter>
</data>
<data name="output_sif" format="sif"
from_work_dir="network.sif" label="${tool.name} on ${on_string}:
SIF network">
<filter>outputSIF is True</filter>
</data>
<data name="output_neighbor" format="tabular"
from_work_dir="neighbor_data.txt" label="${tool.name} on ${on_string}:
Neighbor data">
<filter>output_neighbor is True</filter>
</data>
<data name="moduleMembership" format="tabular"
from_work_dir="community.membership.txt" label="${tool.name} on ${on_string}:
Module membership">
<filter>moduleMembership is True</filter>
</data>
<data name="nodeType" format="tabular"
from_work_dir="nodeType.txt" label="${tool.name} on ${on_string}:
Node type">
<filter>nodeType is True</filter>
</data>
<data name="metadata" format="text"
from_work_dir="metadata.txt" label="${tool.name} on ${on_string}:
Metadata"/>
</outputs>
<tests>
<test>
<param name="gene_list"
value="/home/ubuntu/galaxytools/tools/netboxr/test-data/netbox2010_data.txt"/>
<param name="cutoff" value="0.05"/>
<param name="community" value="ebc"/>
<param name="globalModel" value="True"/>
<param name="globalIterations" value="10"/>
<param name="globalNumber" value="274"/>
<param name="localModel" value="True"/>
<param name="localIterations" value="10"/>
<param name="networkPlot" value="True"/>
<param name="plotWidth" value="8"/>
<param name="outputSIF" value="True"/>
<param name="neighborList" value="True"/>
<param name="modmem" value="True"/>
<param name="nt" value="True"/>
<output name="output_neighbor"
file="/home/ubuntu/galaxytools/tools/netboxr/test-data/neighbor_data.txt" >
<assert_contents>
<has_text_matching expression="localDegree" />
</assert_contents>
</output>
</test>
</tests>
<help><![CDATA[
NetBox is a network-based approach that combines prior knowledge with a
network clustering algorithm. The algorithm allows for the identification
of functional modules and allows for combining multiple data types, such as
mutations and copy number alterations. NetBox performs network analysis on
human interaction networks, and comes pre-loaded with a Human Interaction
Network (HIN) derived from four literature curated data sources, including
the Human Protein Reference Database (HPRD), Reactome, NCI-Nature Pathway
Interaction (PID) Database, and the MSKCC Cancer Cell Map.
-----
**Inputs**
**Gene list**
A tab-delimited text file that contains a list of genes of interest is
required.
Example of text file contents: EGFR TP53 ACTB GAPDH
**Cutoff value**
The corrected p-value (or q-value) cut-off to apply for the graph output.
The default p-value is 0.05.
**Outputs**
* A PDF with a plot of the edge annotated graph (optional)
* A text file with tabular data containing information of all neighbor
nodes (optional)
-----
Wrapper released under [type of license]. Copyright (c) 2021 Augustin Luna
.. _netboxr:
https://www.bioconductor.org/packages/release/bioc/html/netboxr.html
.. _study:
https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0234669
]]></help>
<citations>
<citation type="doi">10.1371/journal.pone.0234669</citation>
</citations>
</tool>
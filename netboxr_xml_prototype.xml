<tool id="netboxr_tool" name="NetBox" version="1.6.0">
<!-- A simple description of the tool that will appear in the tool
panel in Galaxy. -->
<description> netboxr enables automated discovery of biological process
modules by network analysis.</description>
<!-- Handles exit codes in Galaxy. -->
<requirements>
<requirement type="package">r-optparse</requirement>
<requirement type="package" version="1.6.0">bioconductor-netboxr</requirement>
</requirements>
<stdio>
<exit_code range="1:" />
</stdio>
<command><![CDATA[
Rscript '$__tool_directory__/netboxr_r_prototype.R' --geneList $gene_list
--cutoff $cutoff --networkPlot $networkPlot --neighborList $neighborList
]]>
</command>
<inputs>
<param name="gene_list" type="data" format=".txt" label="Gene list" help="A
tab-delimited text file that contains a list of genes of interest"/>
<param argument="--cutoff" type="text" label="P-Value Cut-Off"
help="The corrected p-value (or q-value) cut-off to apply for the graph
output. Default: 0.05"/>
<param argument="--networkPlot" type="boolean" truevalue="True"
falsevalue="False" checked="True" label="Network plot" help="Output the
annotated graph of netboxr output. Default: Yes"/>
<param argument="--neighborList" type="boolean" truevalue="True"
falsevalue="False" checked="True" label="Neighbor list" help="Output a table
containing the information of all neighbor nodes. Default: Yes" />
</inputs>
<outputs>
<data name="output_pdf" format="pdf"
from_work_dir="network_plot.pdf" label="${tool.name} on ${on_string}:
Network plot">
<filter>output_pdf is True</filter>
</data>
<data name="output_neighbor" format="tabular"
from_work_dir="neighbor_data.txt" label="${tool.name} on ${on_string}:
Neighbor data">
<filter>output_neighbor is True</filter>
</data>
</outputs>
<tests>
<test>
<param name="gene_list"
value="/home/ubuntu/galaxytools/tools/netboxr/test-data/genelist.txt"/>
<param name="cutoff" value="0.05"/>
<param name="networkPlot" value="True"/>
<param name="neighborList" value="True"/>
<output name="output_neighbor"
file="/home/ubuntu/galaxytools/tools/netboxr/test-data/neighbor_data.txt" >
<assert_contents>
<has_text_matching expression="localDegree" />
</assert_contents>
</output>
</test>
</tests>
<help><![CDATA[
NetBox is a network-based approach that combines prior knowledge with a
network clustering algorithm. The algorithm allows for the identification
of functional modules and allows for combining multiple data types, such as
mutations and copy number alterations. NetBox performs network analysis on
human interaction networks, and comes pre-loaded with a Human Interaction
Network (HIN) derived from four literature curated data sources, including
the Human Protein Reference Database (HPRD), Reactome, NCI-Nature Pathway
Interaction (PID) Database, and the MSKCC Cancer Cell Map.

-----

**Inputs**

**Gene list**
A tab-delimited text file that contains a list of genes of interest is
required.
Example of text file contents: EGFR TP53 ACTB GAPDH

**Cutoff value**
The corrected p-value (or q-value) cut-off to apply for the graph output.
The default p-value is 0.05.

**Outputs**
* A PDF with a plot of the edge annotated graph (optional)
* A text file with tabular data containing information of all neighbor
nodes (optional)

-----
Wrapper released under [type of license]. Copyright (c) 2021 Augustin Luna
.. _netboxr:
https://www.bioconductor.org/packages/release/bioc/html/netboxr.html
.. _study:
https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0234669
]]></help>
<citations>
<citation type="doi">10.1371/journal.pone.0234669</citation>
</citations>
</tool>
